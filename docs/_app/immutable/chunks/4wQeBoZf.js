import{W as d,X as b,b as m,Y as _,i as y,Z as t,_ as S}from"./DlUXXaAO.js";import{w as h}from"./DBHC7zAs.js";function I(e,a,s=a){var u=new WeakSet;d(e,"input",async l=>{var r=l?e.defaultValue:e.value;if(r=c(e)?n(r):r,s(r),t!==null&&u.add(t),await b(),r!==(r=a())){var f=e.selectionStart,v=e.selectionEnd,i=e.value.length;if(e.value=r??"",v!==null){var o=e.value.length;f===v&&v===i&&o>i?(e.selectionStart=o,e.selectionEnd=o):(e.selectionStart=f,e.selectionEnd=Math.min(v,o))}}}),(y&&e.defaultValue!==e.value||m(a)==null&&e.value)&&(s(c(e)?n(e.value):e.value),t!==null&&u.add(t)),_(()=>{var l=a();if(e===document.activeElement){var r=S??t;if(u.has(r))return}c(e)&&l===n(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function c(e){var a=e.type;return a==="number"||a==="range"}function n(e){return e===""?null:+e}function V(e){return function(...a){var s=a[0];return s.preventDefault(),e?.apply(this,a)}}const w=window?.localStorage.getItem("users")??"",k=h(w);k.subscribe(e=>{window?.localStorage.setItem("users",e)});export{I as b,V as p,k as u};
