import"../chunks/DsnmJJEf.js";import"../chunks/Dqbl_ds0.js";import{o as H}from"../chunks/Di0cay4f.js";import{j as G,ah as I,aC as T,t as W,S as K,aD as P,aE as Q,D,ak as U,aa as X,a8 as j,ag as E,g as r,a9 as J,ab as Y,ac as u,ad as y,s as d,m as p,aF as Z,ae as _,af as ee}from"../chunks/XXU3S6W1.js";import{e as ae,s as te}from"../chunks/BSR-SOfT.js";import{e as re,i as se}from"../chunks/RYWh5yjX.js";import{r as k}from"../chunks/QqhVN1DX.js";import{a as le}from"../chunks/BRzKQYUk.js";import{b as w,p as ie}from"../chunks/BwJl44N_.js";import{i as oe}from"../chunks/D2tSrzji.js";import{s as ne,a as ue,b as fe}from"../chunks/KlURbOcT.js";import{u as V}from"../chunks/BuL8VTxU.js";import{g as ve}from"../chunks/BIWS6jf0.js";function me(e,a,n,l){var o=e.__style;if(G||o!==a){var t=le(a);(!G||t!==e.getAttribute("style"))&&(t==null?e.removeAttribute("style"):e.style.cssText=t),e.__style=a}return l}function z(e,a,n=!1){if(e.multiple){if(a==null)return;if(!K(a))return P();for(var l of e.options)l.selected=a.includes(g(l));return}for(l of e.options){var o=g(l);if(Q(o,a)){l.selected=!0;return}}(!n||a!==void 0)&&(e.selectedIndex=-1)}function ce(e){var a=new MutationObserver(()=>{z(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),W(()=>{a.disconnect()})}function de(e,a,n=a){var l=new WeakSet,o=!0;I(e,"change",t=>{var v=t?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(v),g);else{var f=e.querySelector(v)??e.querySelector("option:not([disabled])");i=f&&g(f)}n(i),D!==null&&l.add(D)}),T(()=>{var t=a();if(e===document.activeElement){var v=U??D;if(l.has(v))return}if(z(e,t,o),o&&t===void 0){var i=e.querySelector(":checked");i!==null&&(t=g(i),n(t))}e.__value=t,o=!1}),ce(e)}function g(e){return"__value"in e?e.__value:e.value}var pe=j("<option> </option>"),_e=j('<main class="svelte-52fghe"><div class="container svelte-52fghe"><div class="container_offshoot svelte-52fghe" style="margin-top:-52vh; left: -1%;"><h1 class="svelte-52fghe">Registrering</h1></div> <form class="formulär svelte-52fghe"><label for="name" class="svelte-52fghe">Namn</label> <input type="text" id="name" class="svelte-52fghe"/> <br/> <label for="birth" class="svelte-52fghe">Födelsedatum</label> <input type="date" id="birth" class="svelte-52fghe"/> <br/> <label for="email" class="svelte-52fghe">E-Mail</label> <input type="email" id="email" class="svelte-52fghe"/> <br/> <label for="pass" class="svelte-52fghe">Lösenord</label> <input type="password" id="pass" class="svelte-52fghe"/> <br/> <label for="col" class="svelte-52fghe">Favoritfärg</label> <select id="col" class="svelte-52fghe"></select> <div></div> <p class="svelte-52fghe"></p> <input id="submitbutton" type="submit" value="Registrera" style="font-family: courier;" class="svelte-52fghe"/></form> <div class="container_offshoot svelte-52fghe"><sub class="svelte-52fghe">Har du redan ett konto? <a href="/login">Logga in!</a></sub></div></div></main>');function Re(e,a){X(a,!1);const n=()=>ue(V,"$users_store",l),[l,o]=ne();let t=[];H(()=>{n().length>2&&(t=JSON.parse(n()))});let v=[{color:"blue",name:"Blå"},{color:"red",name:"Röd"},{color:"green",name:"Grön"},{color:"black",name:"Svart"},{color:"white",name:"Vit"},{color:"purple",name:"Lila"},{color:"pink",name:"Rosa"},{color:"yellow",name:"Gul"}],i=p("black"),f=p(),x=p(),h=p(),S=p();function B(){let s={username:r(f),password:r(h),email:r(x),date:r(S),color:r(i)};r(h).length<8?alert("Lösenordet måste vara 8 karaktärer eller mer!"):t.filter(m=>m.username===s.username).length>0?alert("Användarnamnet finns redan!"):(t=[...t,s],fe(V,JSON.stringify(t)),alert("Välkommen "+r(f)+"!"),ve("/"))}oe();var $=_e(),M=y($),q=u(y(M),2),L=u(y(q),2);k(L);var A=u(L,6);k(A);var F=u(A,6);k(F);var R=u(F,6);k(R);var b=u(R,6);E(()=>{r(i),Z(()=>{})}),re(b,5,()=>v,se,(s,m)=>{var c=pe(),C=y(c,!0);_(c);var O={};E(()=>{te(C,r(m).name),O!==(O=r(m).color)&&(c.value=(c.__value=r(m).color)??"")}),J(s,c)}),_(b);var N=u(b,2);u(N,4),_(q),ee(2),_(M),_($),E(()=>me(N,`width: 80%; height: 20px; border-radius: 16px; overflow:hidden; background-color:${r(i)??""}; margin-left: auto; margin-right: auto; margin-top: -17px; z-index:0;`)),w(L,()=>r(f),s=>d(f,s)),w(A,()=>r(S),s=>d(S,s)),w(F,()=>r(x),s=>d(x,s)),w(R,()=>r(h),s=>d(h,s)),de(b,()=>r(i),s=>d(i,s)),ae("submit",q,ie(B)),J(e,$),Y(),o()}export{Re as component};
