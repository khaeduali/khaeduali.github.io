import"../chunks/DsnmJJEf.js";import"../chunks/hhij0EPK.js";import{o as H}from"../chunks/DQLJ7LHg.js";import{j as D,ah as I,az as T,t as W,S as K,aA as P,aB as Q,D as M,ak as U,aa as X,a8 as J,ag as N,g as r,a9 as E,ab as Y,ac as u,ad as y,s as d,m as p,aC as Z,ae as _,af as ee}from"../chunks/Bk1kqAfJ.js";import{e as ae,s as te}from"../chunks/CJGAEdTF.js";import{e as re,i as se}from"../chunks/DJR7tWkc.js";import{r as k}from"../chunks/CgWdsx8S.js";import{b as S,p as le}from"../chunks/DYqdZkro.js";import{i as ie}from"../chunks/DXMBH0Hr.js";import{s as ne,a as oe,b as ue}from"../chunks/C87_Bi5J.js";import{u as G}from"../chunks/D2S4EXhZ.js";import{g as fe}from"../chunks/BtA63e8K.js";function ve(e,a){return e==null?null:String(e)}function me(e,a,o,l){var n=e.__style;if(D||n!==a){var t=ve(a);(!D||t!==e.getAttribute("style"))&&(t==null?e.removeAttribute("style"):e.style.cssText=t),e.__style=a}return l}function V(e,a,o=!1){if(e.multiple){if(a==null)return;if(!K(a))return P();for(var l of e.options)l.selected=a.includes(g(l));return}for(l of e.options){var n=g(l);if(Q(n,a)){l.selected=!0;return}}(!o||a!==void 0)&&(e.selectedIndex=-1)}function ce(e){var a=new MutationObserver(()=>{V(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),W(()=>{a.disconnect()})}function de(e,a,o=a){var l=new WeakSet,n=!0;I(e,"change",t=>{var v=t?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(v),g);else{var f=e.querySelector(v)??e.querySelector("option:not([disabled])");i=f&&g(f)}o(i),M!==null&&l.add(M)}),T(()=>{var t=a();if(e===document.activeElement){var v=U??M;if(l.has(v))return}if(V(e,t,n),n&&t===void 0){var i=e.querySelector(":checked");i!==null&&(t=g(i),o(t))}e.__value=t,n=!1}),ce(e)}function g(e){return"__value"in e?e.__value:e.value}var pe=J("<option> </option>"),_e=J('<main class="svelte-52fghe"><div class="container svelte-52fghe"><div class="container_offshoot svelte-52fghe" style="margin-top:-52vh; left: -1%;"><h1 class="svelte-52fghe">Registrering</h1></div> <form class="formulär svelte-52fghe"><label for="name" class="svelte-52fghe">Namn</label> <input type="text" id="name" class="svelte-52fghe"/> <br/> <label for="birth" class="svelte-52fghe">Födelsedatum</label> <input type="date" id="birth" class="svelte-52fghe"/> <br/> <label for="email" class="svelte-52fghe">E-Mail</label> <input type="email" id="email" class="svelte-52fghe"/> <br/> <label for="pass" class="svelte-52fghe">Lösenord</label> <input type="password" id="pass" class="svelte-52fghe"/> <br/> <label for="col" class="svelte-52fghe">Favoritfärg</label> <select id="col" class="svelte-52fghe"></select> <div></div> <p class="svelte-52fghe"></p> <input id="submitbutton" type="submit" value="Registrera" style="font-family: courier;" class="svelte-52fghe"/></form> <div class="container_offshoot svelte-52fghe"><sub class="svelte-52fghe">Har du redan ett konto? <a href="/login">Logga in!</a></sub></div></div></main>');function Re(e,a){X(a,!1);const o=()=>oe(G,"$users_store",l),[l,n]=ne();let t=[];H(()=>{o().length>2&&(t=JSON.parse(o()))});let v=[{color:"blue",name:"Blå"},{color:"red",name:"Röd"},{color:"green",name:"Grön"},{color:"black",name:"Svart"},{color:"white",name:"Vit"},{color:"purple",name:"Lila"},{color:"pink",name:"Rosa"},{color:"yellow",name:"Gul"}],i=p("black"),f=p(),w=p(),h=p(),x=p();function j(){let s={username:r(f),password:r(h),email:r(w),date:r(x),color:r(i)};r(h).length<8?alert("Lösenordet måste vara 8 karaktärer eller mer!"):t.filter(m=>m.username===s.username).length>0?alert("Användarnamnet finns redan!"):(t=[...t,s],ue(G,JSON.stringify(t)),alert("Välkommen "+r(f)+"!"),fe("/"))}ie();var $=_e(),O=y($),q=u(y(O),2),A=u(y(q),2);k(A);var L=u(A,6);k(L);var R=u(L,6);k(R);var F=u(R,6);k(F);var b=u(F,6);N(()=>{r(i),Z(()=>{})}),re(b,5,()=>v,se,(s,m)=>{var c=pe(),C=y(c,!0);_(c);var B={};N(()=>{te(C,r(m).name),B!==(B=r(m).color)&&(c.value=(c.__value=r(m).color)??"")}),E(s,c)}),_(b);var z=u(b,2);u(z,4),_(q),ee(2),_(O),_($),N(()=>me(z,`width: 80%; height: 20px; border-radius: 16px; overflow:hidden; background-color:${r(i)??""}; margin-left: auto; margin-right: auto; margin-top: -17px; z-index:0;`)),S(A,()=>r(f),s=>d(f,s)),S(L,()=>r(x),s=>d(x,s)),S(R,()=>r(w),s=>d(w,s)),S(F,()=>r(h),s=>d(h,s)),de(b,()=>r(i),s=>d(i,s)),ae("submit",q,le(j)),E(e,$),Y(),n()}export{Re as component};
